# AppArmor profile for transmission-cli bittorrent client
# Version of transmission-cli profiled: 2.94
# Homepage: https://git.sr.ht/~krathalan/apparmor-profiles/
# Copyright 2019 (C) krathalan; Licensed under GPLv3

#include <tunables/global>

profile transmission-cli /usr/bin/transmission* {
  #include <abstractions/base>

  # Networking
  #include <abstractions/krathalans-networking>

  # Allow access for writing downloaded files
  #include <abstractions/user-download>

  # Include user overrides for possible symlinked config files
  #include <local/transmission-cli>

  # Config
  owner @{HOME}/.config/transmission*/ rw,
  owner @{HOME}/.config/transmission*/** rw,
  
  # Silence unnecessary permissions
  deny @{PROC}/{,**} r,
}
